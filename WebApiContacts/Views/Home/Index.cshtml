@{
    var contactUrl = Url.RouteUrl("DefaultApi", new { httproute = "", controller = "Contacts"});
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>ASP.NET Web API</title>
    <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/modernizr-2.0.6-development-only.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery-1.6.2.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/knockout-2.0.0.js")" type="text/javascript"></script>
    <meta name="viewport" content="width=device-width" />
    
    <script type="text/javascript">
        var httpStuff = {
            statusCodes :
                {
                    OK: 200,
                    Created: 201,
                    Accepted: 202,
                    NoContent: 204,
                    BadRequest: 400,
                    Unauthorized: 401,
                    Forbidden: 403,
                    NotFound: 404,
                    NotAllowed: 405,
                    ServerError: 500
                }
        }
        function ViewModel() {
            var self = this;
            self.contacts = ko.observableArray()
            self.addContacts = function (contacts) {
                console.log(contacts);
                for (var contactIndex in contacts) {
                    console.log(contactIndex);
                    self.addContact(contacts[contactIndex]);
                }
            };
            this.deleteContact = function (contact) {
                var uri = contact.Uri;
                $.ajax({
                    url: uri,
                    type: "DELETE",
                    success: function () {
                        self.contacts.remove(contact);
                    },
                    error: function (data, statusText, response) {
                        alert(response.status + ": " + statusText);
                    }
                });

            };
            this.addContact = function (contact) {
                self.contacts.push(contact);
            };
        }

        $(function () {
            var contactContainer = $("#contacts");
            var contactUrl = contactContainer.attr("data-contact-url");
            $.getJSON(contactUrl, function (data, message, response) {
                if (response.status == httpStuff.statusCodes.OK) {
                    var model = new ViewModel();
                    for (var contactIndex in data) {
                        fixLink(data[contactIndex]);
                    }
                    model.addContacts(data);
                    ko.applyBindings(model);
                }
            });
            function fixLink(contact) {
                contact.Uri = contactUrl + "/" + contact.Id;
            }
        });
    </script>
    <script type="text/html" id="contact-template">
        <div class="contact">
            <div class="contact-header">
                <h3><span data-bind="text: FirstName"></span> <span data-bind="text: LastName"></span></h3>
            </div>
            <div class="contact-content">
                <div class="contact-details">
                    <div class="contact-detail">
                        Phone number: <span data-bind="text: PhoneNumber"></span>
                    </div>
                </div>
                <div class="contact-actions">
                    <a href="#" data-bind="click: $root.deleteContact">Delete</a>
                </div>
            </div>
            <div class="contact-image">
                <img data-bind="attr: {src: Image}"/>
            </div>
        </div>
    </script>
</head>
<body>
    <header>
        <div class="content-wrapper">       
            <div class="float-left">
                <p class="site-title"><a href="/">Contact stuff</a></p>
            </div>
        </div>
    </header>
    <div id="body">
        <section class="featured">
            <div class="content-wrapper">
                <hgroup class="title">
                    <h1>Welcome to my awesome contact!</h1>
                </hgroup>
            </div>
        </section>
        <section class="content-wrapper main-content clear-fix">
            <h3>Contacts:</h3>
            <div id="contacts" data-contact-url="@contactUrl" data-bind="template: { name: 'contact-template', foreach: contacts }">
            </div>
        </section>
    </div>
</body>
</html>
